{% extends "base.html" %}
{%load staticfiles%}
{% block content %}

<style type="text/css">
.form-control1 {
     width:80%;
     height: 34px;
     padding: 0px 0px;
  }
.form-control {

    height: 80px;
     padding: 0px 0px;
  }
.font-hg font-black-flamingo {
 height=auto;}
.page-content-inner {
  width: 1160px;
  height: auto;
  position:relative;
  text-align:left;


   padding-top: 10px;
   padding-right: 15px;
   padding-bottom: 10px;
   padding-left:15px;

}
.portlet {
    margin-top: 0;
    margin-bottom: 0px;
    padding: 0;
    border-radius: 2px;
}

.portlet-body-main {
  width: 1138px;
  height: auto;
  position:relative;
  text-align:left;
  <!--border: 0.1px solid grey;-->

   padding-top: 10px;
   padding-right: 10px;
   padding-bottom: 10px;
   padding-left:10px;

}
.btn-group btn-group-divide{
width: 1120px;
height:auto;
}

.logo {
width:80%:
height:60px:
}

.center-block {
  float: none;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.message-error {
    background: #F47C4D;
}

.message-info {
    background: #2C8636;
}

.eu_custom_select{
    width: 75%;
    height: 30px;
    background: #fff;
    color: #505050 !important;
    padding: 0px 10px !important;
}
.input-sm-width-200{
    width:200px;
}
.padding-left0{
    padding-left:0px;
}
.mydiv{
    height: 500px;
    width: 500px;
    top: -100px;
    left: 300px;
    display: none;
    opacity: 1;
    position: absolute;
    background-color: white;
}

.mydiv1,.mydiv2,.mydiv3{
    height: 250px;
    width: 250px;
    top: -80px;
    left: 200px;
    display: none;
    opacity: 1;
    position: absolute;
    background-color: white;
}
</style>
<div class="page-container">
    <!-- BEGIN CONTENT -->
    <div class="page-content-wrapper">
        <div class="row eu_custom_heading">
        <label class="col-md-12 name" style="margin-bottom: 0px !important;">
            <h2>Unbilled Consumer </h2>
        </label>
    </div>
        <!-- END PAGE HEAD-->
        <!-- BEGIN PAGE CONTENT BODY -->
        <form id="verifyform" name="verifyform" action="#" method="post">
        {% csrf_token %}
        <div class="page-content eu_custom_validation_page_content">
            <div class="container eu_custom_validation_container">
                <div class="row eu_custom_validation_row_nm">
                    <div class="page-content-wrapper">
                        <label class="col-md-12" style="padding-left: 15px;margin-bottom: 30px !important;color: #ed1847 !important;font-size: 14px !important;">
                             Dashboard &gt; Unbilled Consumer Verification for: <b>Bill Cycle Code : {{billCycle.bill_cycle_code}}  &gt; Bill Month : {{monthtoshow}}</b> <span style="color: #505050 !important;"></span>
                        </label>

                        {% if messages %}
                            <div class="row col-md-6 center-block">
                                <div id="alert_message" class="bs-component">
                                    {% for message in messages %}
                                    <div class="alert message-{{ message.tags }} alert-dismissable">
                                        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                                        <i class="fa fa-info pr10"></i>
                                        <strong>{{ message }}</strong>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                        <div class="portlet light portlet-fit portlet-datatable ">
                            <div class="portlet-title">
                                <div class="row">
                                    <div class="col-md-12">

                                        <div class="col-md-1">
                                            <div class="actions">
                                                {% if prevValidateRecord %}
                                                    <div class="col-md-2 name" style="float:left;">
                                                    <div class="btn-group btn-group-devided">
                                                        <label class="bg-pink btn btn-transparent grey-salsa btn-outline btn-circle btn-sm ">
                                                            <a href="{% url 'validate:unbillconsumerreview' billcycle_id month prevValidateRecord %}"
                                                               style="color: #FFF;">Previous</a>
                                                        </label>
                                                    </div>
                                                    </div>
                                                {% else %}
                                                    <div class="col-md-2 name" style="float:left;">
                                                        <div class="btn-group btn-group-devided">
                                                            <label class="bg-pink btn btn-transparent grey-salsa btn-outline btn-circle btn-sm ">
                                                                <a href="#"
                                                                   style="color: #FFF;">Previous</a>
                                                        </label>
                                                    </div>
                                                    </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <label>
                                                <a href="{% url 'validate:unbillconsumer' billcycle_id month %}"><font color="black">List View</font></a>
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                        </div>
                                        <div class="col-md-1" style="text-align: right;">
                                            <div class="actions">
                                                {% if nextValidateRecord %}
                                                    <div class="btn-group btn-group-devided">
                                                        <label class="bg-pink btn btn-transparent grey-salsa btn-outline btn-circle btn-sm ">
                                                            <a href="{% url 'validate:unbillconsumerreview' billcycle_id month nextValidateRecord %}"
                                                               style="color: #FFF;">Next</a>
                                                        </label>
                                                    </div>
                                                {% else %}
                                                    <div class="btn-group btn-group-devided">
                                                        <label class="bg-pink btn btn-transparent grey-salsa btn-outline btn-circle btn-sm ">
                                                            <a href="#"
                                                               style="color: #FFF;">Next</a>
                                                        </label>
                                                    </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="page-content-inner" style="width:100%;">
                                <div class="portlet eu_custom_validation_portlet_inner">
                                    <div class="portlet-title eu_custom_pl20 eu_custom_validation_portlet_inner_portlet_title" style="height: 50px !important;">
                                        <span>
                                            Consumer Number : {{ consumer.consumer_no }} -
                                            <span id="validationstatus" class="{% if data.is_validated %}eu_custom_validation_text_complete{% else %}eu_custom_validation_text_pending{% endif %}">
                                                {% if consumer.is_confirmed %}
                                                    Consumer confirmed
                                                {% elif consumer.is_descarded %}
                                                    Consumer discarded
                                                {% else %}
                                                    Consumer review pending
                                                {% endif %}
                                            </span>
                                        </span>
                                        {% if consumer.is_confirmed  or  consumer.is_descarded %}
                                        {% else %}
                                            <input type="hidden" name="consumer_id" id="consumer_id" value="{{consumer.id}}">
                                            <input  type="hidden" name="month" id="month" value="{{month}}">
                                            <input type="hidden" name="billcyclecode" id="billcyclecode" value="{{billcycle_id}}">

                                            <div class="col-md-2" style="padding-top:6px !important;float:right; width: 12.66%;">
                                                <button type="button" class="bg-pink btn btn-transparent btn-circle btn-sm col-lg-12 center-block eu_custom_button eu_custom_mt5" onclick="discardConsumer('{% url 'validate:discard_consumer' %}', '{% url 'validate:unbillconsumer' billcycle_id month  %}')" style="width: 125px;">Discard
                                                </button>
                                            </div>
                                            <div class="col-md-2" style="padding-top:11px !important; float:right; width: 12.66%;">
                                                <button type="button" class="bg-pink btn btn-transparent btn-circle btn-sm col-lg-12 center-block eu_custom_button" onclick="addConsumer('{% url 'validate:add_unbilled_consumer' %}', '{% url 'validate:unbillconsumer' billcycle_id month  %}')" style="width: 125px;">Add Reading
                                                </button>
                                            </div>
                                        {% endif %}
                                    </div>
                                    <div class="portlet-body eu_custom_p0 eu_custom_validation_portlet_inner_portlet_body">
                                        <div class="tabbable-line eu_custom_p0">
                                            <div class="row eu_custom_validation_row_nm" style="background: #efefef !important;">
                                                <div class="col-md-2 col-sm-6 eu_custom_pt10">
                                                    <div class="portlet-title">
                                                        <div class="row static-info eu_custom_validation_row_nm">
                                                            <div class="actions stuts eu_custom_validation_column_title">
                                                                Consumer
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="portlet-body tls_height ">

                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Consumer Number</label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">
                                                                    {{consumer.consumer_no}}
                                                                </label>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Consumer Name</label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">
                                                                    {{ consumer.name }}
                                                                </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Meter Number</label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">
                                                                    {{consumer.meter_no}}
                                                                </label>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Route ID </label>
                                                                   <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">
                                                                    {{ consumer.route_code }}
                                                                </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">
                                                                    Address
                                                                    </label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.address_line_1}}
                                                                </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <br>
                                                        <div class="portlet-title eu_custom_pt15">
                                                            <div class="row static-info eu_custom_validation_row_nm">
                                                                <div class="actions stuts eu_custom_validation_column_title" style="color: #505050 !important;">
                                                                    Meter Reader
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">
                                                                    Name
                                                                    </label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold" style="word-wrap: break-word">
                                                                    {{consumer.meterreader.first_name}}  {{consumer.meterreader.last_name}}
                                                                </label>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">ID </label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.meterreader.employee_id}}
                                                                </label>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-5 col-sm-6 eu_custom_pt10">
                                                    <div class="portlet-title">
                                                        <div class="row static-info eu_custom_validation_row_nm">
                                                            <div class="col-md-5 name eu_custom_validation_column_title eu_custom_p0">
                                                                Meter Reading Details ({{consumer.reading_taken_by}})
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="portlet-body tls_height">
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Current Reading</label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.current_meter_reading}}
                                                                    </label>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Meter status</label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.meter_status}}
                                                                    </label>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                             <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Reading Date</label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.reading_date}}</label>
                                                                </div>
                                                            </div>


                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">
                                                                        Reader status
                                                                    </label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.reader_status}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">

                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Reader Remark</label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.comment}}</label>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">
                                                                        Reading taken by
                                                                    </label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">NA</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">Latitude</label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.latitude}}</label>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">
                                                                        Longitude
                                                                    </label>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold">{{consumer.longitude}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-10 name eu_custom_p0">
                                                                <label class="col-lg-12">
                                                                    Meter Image :<b> Current Month</b>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name">
                                                                <div class="mydiv">
                                                                    <img class="zoom"  src="{{consumer.image_url}}" width="500px" height="500px" />
                                                                </div>
                                                                <div class="thumbs">
                                                                    <img class="zoom"  src="{{consumer.image_url}}" width="250px" height="250px" />
                                                                </div>

                                                                    <!-- <div class="process-item-image">
                                                                        <span class="process-item-image-helper">
                                                                        </span>
                                                                        <img class="img-responsive ib mr5"  src="{{consumer.image_url}}" style="display: none;">
                                                                    </div> -->
                                                            </div>
                                                        </div>

                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-12 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12">
                                                                        Suspicious Activity And Remark
                                                                    </label><br>
                                                                    <label class="col-lg-12 eu_custom_pt5 eu_custom_font_bold"> {% if consumer.suspicious_activity %} Yes - {{consumer.suspicious_activity_remark}} {% else %} No {% endif %}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        {% if consumer.suspicious_activity and consumer.suspicious_image_url %}
                                                         <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-3 name">
                                                                    <div class="mydiv1">
                                                                        <img class="zoom1"  src="{{consumer.suspicious_image_url}}" width="250px" height="250px" />
                                                                    </div>
                                                                    <div class="thumbs">
                                                                        <img class="zoom1"  src="{{consumer.suspicious_image_url}}" width="100px" height="100px" />
                                                                    </div>
                                                                    <!-- <div class="process-item-image img-small">
                                                                        <span class="process-item-image-helper">
                                                                        </span>
                                                                        <img class="img-responsive ib mr5"  src="{{consumer.suspicious_image_url}}" style="display: none;">
                                                                    </div> -->
                                                            </div>
                                                        </div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-5 col-sm-6 eu_custom_pt10">
                                                    <div class="portlet-title">
                                                        <div class="row static-info eu_custom_validation_row_nm">
                                                            <div class="col-md-5 name eu_custom_validation_column_title eu_custom_p0">
                                                                Edit
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="portlet-body tls_height">
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <input type="hidden" id="billmonth" name="billmonth" value="{{consumer.reading_month}}"/>
                                                                    <label class="col-lg-12 padding-left0">Bill Month</label>
                                                                    <input class="input-sm input-sm-width-200" id="billmonthdummy" name="billmonthdummy" type="text" value="{{monthtoshow}}" readonly="readonly" placeholder="Bill Month">
                                                                </div>

                                                            </div>
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12 padding-left0">
                                                                        Consumer Number
                                                                    </label>
                                                                    <input class="input-sm input-sm-width-200" id="consumer_no" name="consumer_no" type="text" value="{{consumer.consumer_no}}" placeholder="Consumer number">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12 padding-left0">Bill Cycle Code</label>
                                                                    <input class="input-sm input-sm-width-200" id="billcycle_code" name="billcycle_code" type="text" value="{{consumer.bill_cycle_code}}" placeholder="Bill Cycle Code">


                                                                </div>
                                                            </div>
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12 padding-left0">Meter Number</label>
                                                                    <input class="input-sm input-sm-width-200" id="meter_no" name="meter_no" type="text" value="{{consumer.meter_no}}" placeholder="Meter number">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12 padding-left0">Route ID</label>
                                                                    <input class="input-sm input-sm-width-200" id="route_id" name="route_id" type="text" value="{{consumer.route_code}}" placeholder="Route ID">
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12 padding-left0">Consumer Name</label>
                                                                    <input class="input-sm input-sm-width-200" id="consumer_name" name="consumer_name" type="text" value="{{consumer.name}}" placeholder="Consumer Name">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row static-info eu_custom_pt10">
                                                            <div class="col-md-6 name eu_custom_p0">
                                                                <div class="form-group">
                                                                    <label class="col-lg-12 padding-left0">Remark</label>
                                                                    <input class="input-sm input-sm-width-200" id="remark_v1" name="remark_v1" type="text" value="" placeholder="Remark">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </form>
</div>
{% endblock %}
{% block js_block %}
<script src="{%static 'custom-js/validation.js'%}" type="text/javascript"></script>
{% endblock %}
</body>
</html>
